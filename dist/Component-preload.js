/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "eone_zteam_calendar/Component-preload",
	"modules": {
		"eone_zteam_calendar/Component.js": "sap.ui.define([\n\t\"sap/ui/core/UIComponent\",\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/Device\",\n\t\"eone_zteam_calendar/model/models\"\n], function(UIComponent, JSONModel, Device, models) {\n\t\"use strict\";\n\n\treturn UIComponent.extend(\"eone_zteam_calendar.Component\", {\n\n\t\tmetadata: {\n\t\t\tmanifest: \"json\"\n\n\t\t},\n\t\t\n/*\t\tgetRouter: function() {\n\t\t\treturn sap.ui.core.UIComponent.getRouterFor(this);\n\t\t},\n*/\n\t\t/**\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\n\t\t * @public\n\t\t * @override\n\t\t */\n\t\tinit: function() {\n\t\t\t// call the base component's init function\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\n\t\t\t\n\t\t\t\t// set the device model\n\t\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\n\t\t\t\t// set the FLP model\n\t\t\t\tthis.setModel(models.createFLPModel(), \"FLP\");\n\t\t\t\n\t\t//\t(SE)\n\t\t\tthis.getRouter().initialize();\n\t\t//\t(SE)\n\t\t\n\t\t\t// create the views based on the url/hash\n\t\t\t//sap.ui.core.UIComponent.getRouterFor(this).initialize();\n\t\t},\n\t\t\n\t\t\t/**\n\t\t\t * The component is destroyed by UI5 automatically.\n\t\t\t * In this method, the ListSelector and ErrorHandler are destroyed.\n\t\t\t * @public\n\t\t\t * @override\n\t\t\t */\n\t\t\tdestroy : function () {\n\t\t//\t\tthis.oListSelector.destroy();\n\t\t//\t\tthis._oErrorHandler.destroy();\n\t\t//\t\t// call the base component's destroy function\n\t\t\t\tUIComponent.prototype.destroy.apply(this, arguments);\n\t\t\t},\n\t\t\t\n\t\t\t\t/**\n\t\t\t * This method can be called to determine whether the sapUiSizeCompact or sapUiSizeCozy\n\t\t\t * design mode class should be set, which influences the size appearance of some controls.\n\t\t\t * @public\n\t\t\t * @return {string} css class, either 'sapUiSizeCompact' or 'sapUiSizeCozy' - or an empty string if no css class should be set\n\t\t\t */\n\t\t\tgetContentDensityClass : function() {\n\t\t\t\tif (this._sContentDensityClass === undefined) {\n\t\t\t\t\t// check whether FLP has already set the content density class; do nothing in this case\n\t\t\t\t\tif (jQuery(document.body).hasClass(\"sapUiSizeCozy\") || jQuery(document.body).hasClass(\"sapUiSizeCompact\")) {\n\t\t\t\t\t\tthis._sContentDensityClass = \"\";\n\t\t\t\t\t} else if (!Device.support.touch) { // apply \"compact\" mode if touch is not supported\n\t\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCompact\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m controls, but needed for desktop-first controls like sap.ui.table.Table\n\t\t\t\t\t\tthis._sContentDensityClass = \"sapUiSizeCozy\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this._sContentDensityClass;\n\t\t\t}\n\t});\n});",
		"eone_zteam_calendar/controller/BaseController.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t'sap/ui/unified/DateTypeRange',\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"eone_zteam_calendar/model/formatter\"\r\n], function(Controller, DateTypeRange, JSONModel, History, MessageBox, formatter) {\r\n\t\"use strict\";\r\n     var sRendered; \r\n     jQuery.sap.require(\"sap.m.MessageBox\");\r\n     \r\n\treturn Controller.extend(\"eone_zteam_calendar.controller.BaseController\", {\r\n\t\t/**\r\n\t\t * Convenience method for accessing the router.\r\n\t\t * @public\r\n\t\t * @returns {sap.ui.core.routing.Router} the router for this component\r\n\t\t */\r\n\t\tgetRouter: function() {\r\n\t\t\treturn sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Convenience method for getting the view model by name.\r\n\t\t * @public\r\n\t\t * @param {string} [sName] the model name\r\n\t\t * @returns {sap.ui.model.Model} the model instance\r\n\t\t */\r\n\t\tgetModel: function(sName) {\r\n\t\t\treturn this.getView().getModel(sName);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Convenience method for setting the view model.\r\n\t\t * @public\r\n\t\t * @param {sap.ui.model.Model} oModel the model instance\r\n\t\t * @param {string} sName the model name\r\n\t\t * @returns {sap.ui.mvc.View} the view instance\r\n\t\t */\r\n\t\tsetModel: function(oModel, sName) {\r\n\t\t\treturn this.getView().setModel(oModel, sName);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Getter for the resource bundle.\r\n\t\t * @public\r\n\t\t * @returns {sap.ui.model.resource.ResourceModel} the resourceModel of the component\r\n\t\t */\r\n\t\tgetResourceBundle: function() {\r\n\t\t\treturn this.getOwnerComponent().getModel(\"i18n\").getResourceBundle();\r\n\t\t},\r\n\r\n\t\tonNavBack: function (oEvent) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t//\tif(oEvent && oView!=undefined){\r\n\t\t\t////////SE su pressione tasto back faccio refresh tabella taskset\r\n\t\t\tvar oView, oViewW;\r\n\t\t\toView = this.getView();\r\n\t\t\tvar sPrefix = oView.getId().substring(0, oView.getId().indexOf(\"---\")) + \"---\"; \r\n\t\t\t\t\toViewW = sap.ui.getCore().byId(sPrefix + \"V1S\");\r\n\t\t\t\t\tvar oTable = oViewW.byId(\"__table0\");\r\n\t\t\t\t\toTable.getBinding(\"items\").refresh();\r\n\t\t\t////////\r\n\t//\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar oHistory, sPreviousHash;\r\n\t\t\toHistory = History.getInstance();\r\n\t\t\tsPreviousHash = oHistory.getPreviousHash();\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\twindow.history.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getRouter().navTo(\"view1\", {});\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\thandlePopHelp: function(oEvent){\r\n\t        var oVbox;\r\n\t        var oView = this.getView();\r\n\t        var sViewName = oView.getProperty(\"viewName\");\r\n\t        var sShortName = sViewName.substring(sViewName.lastIndexOf(\".\") + 1, sViewName.length);\r\n\t\t\tif (!this._oPopoverHelp) {\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis._oPopoverHelp = sap.ui.xmlfragment(\"eone_zteam_calendar.view.PopoverHelp\", this, \"eone_zteam_calendar.controller.BaseController\");\r\n\r\n\t\t\t\tthis.getView().addDependent(this._oPopoverHelp);\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toVbox = this._oPopoverHelp.getContent()[0];\r\n\t\t\t//oVbox = sap.ui.getCore().byId(\"Vbox\");\r\n\t\t\toVbox.destroyItems();\r\n            \r\n\t\t\r\n\t\t\tvar oHTML, oHTML_Footer;\r\n\r\n\t\t\tif (sShortName == \"View1\") {\r\n\t\t\t\toHTML = new sap.ui.core.HTML({\r\n\t\t\t\t\tcontent: '<strong>Linee guida per l\\'utilizzo dell\\'applicazione</strong>' +\r\n\t\t\t\t\t\t'<ul>' +\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</li>' +\r\n\t\t\t\t\t\t\t\t' <li><strong> Inserire una richiesta: </strong> Selezionare il tipo di richiesta tramite l\\'apposito ' +\r\n\t\t\t\t\t\t\t\t' menu a tendina. Scegliere il/i giorni dal calendario. E\\' possibile selezionare un intervallo orario ' +\r\n\t\t\t\t\t\t\t\t' se la richiesta è di un solo giorno. In questo caso utilizzare le fasce orarie 8:00-13:00 e 14:00-18:30. ' + \r\n\t\t\t\t\t\t\t\t' Non sono consentiti intervalli inferiori ai 30 minuti. Se l\\'intervallo orario non viene indicato saranno ' +\r\n\t\t\t\t\t\t\t\t' conteggiate 8 ore. In caso di selezione multipla di giorni vengono considerate 8 ore di assenza per giorno. ' +\r\n\t\t\t\t\t\t\t\t' Effettuare richieste separate per ciscun giorno nel caso sia necessario indicare orari specifici. ' +\r\n\t\t\t\t\t\t\t\t' Indicare l\\'approvatore (solitamente il TL) a cui inoltrare la richiesta. ' +\r\n\t\t\t\t\t\t\t\t' Inserire eventuali note per l\\'approvatore tramite l\\'apposito box di testo presente nel form. ' +\r\n\t\t\t\t\t\t\t\t' Cliccando sul bottone \"Invia\", la richiesta verrà inoltrata all\\'approvatore e notificata all\\'ufficio ' +\r\n\t\t\t\t\t\t\t\t' amministrativo di competenza. ' +\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t                '</li>' +\r\n\t\t\t                \r\n\t\t\t                '</li>' +\r\n\t\t\t\t\t\t\t\t'<li><strong> Visualizzare lo storico delle richieste: </strong>  Cliccando sul bottone \"Storico\", ' + \r\n\t\t\t\t\t\t\t\t' verrà visualizzata una lista riportante lo storico delle richieste effettuate. ' +\r\n\t\t\t                '</li>' +\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    \r\n\t\t\t\t\t\t'</ul>',\r\n\t\t\t\t\tsanitizeContent: true\r\n\t\t\t\t});\r\n\t\t\t}else if(sShortName == \"View1s\"){\r\n\t\t\t\toHTML = new sap.ui.core.HTML({\r\n\t\t\t\t\tcontent: '<strong>Storico delle richieste</strong>' +\r\n\t\t\t\t\t\t'<ul>' +\r\n\t\t\t\t\t\t' La pagina mostra lo storico delle richieste effettuate, con una indicazione circa il loro stato.' +\r\n\t\t\t\t\t\t' E\\' possibile filtrare la lista di richieste attraverso la barra dei filtri. Le richieste possono essere filtrate' +\r\n\t\t\t\t\t\t' per tipo (\"Permesso\", \"Ferie\", \"Recupero\", \"ROL\"), per stato (\"Inviata\", \"Approvata\", \"Rifiutata\") o combinando i due filtri singoli.' +\r\n\t\t\t\t\t\t' Cliccando su un elemento della lista, è possibile visualizzare il dettaglio di questa.' +\r\n\t\t\t\t\t\t' Tramite il tab info utente, è possibile visualizzare un riepilogo \"indicativo\" delle ore inserite dall\\'utente per l\\'anno in corso.' +\r\n\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t'</ul>',\r\n\t\t\t\t\tsanitizeContent: true\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\t\toHTML = new sap.ui.core.HTML({\r\n\t\t\t\t\tcontent: '<strong>Pagina di riepilogo richiesta</strong>' +\r\n\t\t\t\t\t\t'<ul>' +\r\n\t\t\t\t\t\t' La pagina mostra un riepilogo della richiesta selezionata. E\\' presente una lista dei giorni oggetto della richiesta, nonchè una indicazione circa l\\'approvatore designato e le evantuali note' +\r\n\t\t\t\t\t\t' inserite dall\\'approvatore. Nel caso in cui la richiesta non sia stata ancora processata, è possibile modificarla o eliminarla' +\r\n\t\t\t\t\t\t' attraverso gli appositi bottoni (\"Modifica\" o \"Elimina\").' +\r\n\t\t\t\t\t\t'</ul>',\r\n\t\t\t\t\tsanitizeContent: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\r\n\t\t\toVbox.addItem(oHTML);\r\n\r\n\t\t\tthis._oPopoverHelp.openBy(oEvent.getSource());\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\t// chiude help\r\n\t\thandleCloseButton: function(oEvent) {\r\n\t\t\tthis._oPopoverHelp.close();\r\n\t\t},\r\n\r\n\t\t\r\n\t\t\r\n\t\t\tonRefreshTable: function (oEvent) {\r\n\t\t\t\t\r\n\t\t\tvar oView = this.getView();\r\n\t\t\tvar oTable = oView.byId(\"__table0\");\r\n\t\t\toTable.getBinding(\"items\").refresh();\r\n\t\t\t\r\n\t\t\r\n\t\t\t},\r\n\t\t\r\n\t\t\r\n\t\t\t\tonNavBackDirect        : function (oEvent) {\r\n\t\t\t\r\n\r\n\t //\t\tthis.getRouter().navTo(\"view1s\", {});\r\n\t\t\t\r\n\t\t\tvar oHistory, sPreviousHash;\r\n\t\t\toHistory = History.getInstance();\r\n\t\t\tsPreviousHash = oHistory.getPreviousHash();\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\twindow.history.go(-1);\r\n\t\t\t} else {\r\n\t\t\t//\tthis.getRouter().navTo(\"view1s\", {}, true );\r\n\t\t\t    this.getRouter().navTo(\"view1s\", {});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\r\n\t\t\tonTimePickerChange: function() {\r\n\r\n               \tvar oView ;\r\n\t\t     \toView = this.getView();\r\n\t\t     \t\r\n\t\t\t\tvar aSelectedDates = this.cale.getSelectedDates();\r\n\r\n\t\t\t\tvar aZtimestart = this.timeFrom.getValue();\r\n\t\t\t\tvar aZtimeend = this.timeTo.getValue();\r\n\t\t\t\tvar aOreTot,\r\n\t\t\t\t\taOrep;\r\n\t\t\t\tvar aOreDay = 8.0;\r\n\t\t\t\t\r\n\t\t\t\tvar tim1 = aZtimestart,\r\n\t\t\t\t\t\ttim2 = aZtimeend;\r\n\t\t\t\t\tvar ary1 = tim1.split(':'),\r\n\t\t\t\t\t\tary2 = tim2.split(':');\r\n\t\t\t\t\tvar minsdiff = parseInt(ary2[0], 10) * 60 + parseInt(ary2[1], 10) - parseInt(ary1[0], 10) * 60 - parseInt(ary1[1], 10);\r\n\t\t\t\t\tvar aTstart = parseInt(ary1[0], 10);\r\n\t\t\t\t\tvar aTstartMin = parseInt(ary1[1], 10);\r\n\t\t\t\t\tvar aTend = parseInt(ary2[0], 10);\r\n\t\t\t\t\tvar aTendMin = parseInt(ary2[1], 10);\r\n\t\t\t\t//\tvar aTendMinLast = aTendMin.substring(1, 1);\r\n\t\t\t\t\tvar aTstartMinLast = aZtimestart.substring(4);\r\n\t\t\t\t\t\tvar aTendMinLast = aZtimeend.substring(4);\r\n\t\t\t\t\r\n\t\t\t\tthis.timeFrom.setValueState(sap.ui.core.ValueState.None);\t\r\n\t\t\t\tthis.timeTo.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t\r\n\t\t\t\tvar minsEnd = parseInt(ary2[0], 10) * 60 + parseInt(ary2[1], 10);\r\n\t\t\t\tvar minsStart = parseInt(ary1[0], 10) * 60 + parseInt(ary1[1], 10);\r\n\t\t\t\t\r\n\t\t\t\t\t//controllo che almeno un giorno sia selezionato\r\n\t\t\t\tif (aSelectedDates.length === 0) {\r\n\r\n\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\"Selezionare prima i giorni\", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t}\r\n\r\n\r\n                //////////////////////////////////////////\r\n                if (aZtimestart !== \"\") {\r\n\t\t\t\t\t\t//controllo correttezza inserimento intervallo ore\r\n\t\t\t\t\t//\tif ((aTstart < 9 || aTstart > 18) || (aTstart === 13 || (aTstart === 14 & aTstartMin < 30)) ) {\r\n\t\t\t\t\t//\t(SE) richiesta modifica da WAFA consentire richiesta da ore 14\t\r\n\t\t\t\t\t\t\tif ((aTstart < 8 || aTstart > 18) || (aTstart === 13 ) ) {\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\"Inserimento ora inizio non corretto. Ora inizio >= 8:00, < 13:00, >= 14:00, < 18:30 \", {\r\n\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.timeFrom.setValueState(sap.ui.core.ValueState.Error);\r\n                    \r\n\t\t\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//controllo correttezza inserimento intervallo minuti inizio\r\n\t\t\t\t\t\tif (aTstartMinLast !== \"0\") {\r\n\t\t\r\n\t\t\t\t\t\t\t///jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\"Ora inizio, sono selezionabili solo i minuti 00 o 30.\", {\r\n\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\t\t\t\tthis.timeFrom.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n                }\r\n\t\t\t\r\n\t\t\t///////////////////////////////////////\t\r\n\t\t\tif (aZtimeend !== \"\") {\r\n\t\t\t\t\t\t//controllo correttezza inserimento ora fine\r\n\t\t\t//\tif ( (aTend > 18 || aTend <= 9) || ((aTend === 13 & aTendMin > 0) || (aTend === 14 & aTendMin < 30)) ) {\r\n\t\t\t\t\t\r\n\t\t\t\tif ( (aTend > 18 || aTend <= 8) || ((aTend === 13 & aTendMin > 0) || (aTend === 14 & aTendMin < 30)) ) {\r\n\t\t\t\t\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\"Inserimento intervallo ore non corretto. Ora fine > 8:00, <= 13:00, >= 14:30, <= 18:30\", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.timeTo.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t//controllo correttezza inserimento intervallo minuti fine\r\n\t\t\t\tif (aTendMinLast !== \"0\") {\r\n\r\n\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\"Ora fine, sono selezionabili solo i minuti 00 o 30.\", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\tthis.timeTo.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\treturn \"KO\"; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t/////////////////////////////////////\r\n\t\t\t\r\n\t\t\t\t\t\t//controllo correttezza inserimento intervallo ore\r\n\t\t\t\tif  (aZtimestart === \"\" & aZtimeend !== \"\")  {\r\n\r\n\t\t\t\t\tthis.timeFrom.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t//controllo correttezza inserimento intervallo ore\r\n\t\t\t\tif  (aZtimestart !== \"\" & aZtimeend === \"\")  {\r\n\r\n\t\t\t\t\tthis.timeTo.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\r\n\t\t\t\t}\t\r\n\t\t\t////////////////////////////////////\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\tif (aZtimestart === \"\" & aZtimeend === \"\") {\r\n\r\n\t\t\t\t\taOreTot = parseFloat(aSelectedDates.length * 8);\r\n\r\n\t\t\t\t\taOrep = 8;\r\n\t\t\t\t\t\r\n\t\t\t\t} else if (aZtimestart !== \"\" & aZtimeend !== \"\") {\r\n                    \r\n                    \r\n\t\t                    // controllo che inizio non sia maggiore di fine\r\n\t\t\t\t\t  if (minsStart > minsEnd) {\r\n\t\t\r\n\t\t\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\"Inserimento intervallo ore non corretto: ora inizio deve essere minore di ora fine\", {\r\n\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.timeFrom.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\t\tthis.timeTo.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\taOrep = parseFloat(minsdiff / 60);\r\n\t\t\t\t\tNumber(aOrep).toFixed(1);\r\n\r\n\t\t\t\t\t//sottraggo ore pausa in caso di assenza a cavallo tra mattina e rientro nel pome\r\n\t\t\t\t\tif (aTstart < 13 & ((aTend > 14) || (aTend === 14 & aTendMin >= 30))) {\r\n\t\t\t\t\t\taOrep = aOrep - 1.5;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (aOrep > 8) {\r\n\t\t\t\t\t\taOrep = 8;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\taOreTot = parseFloat(aSelectedDates.length * aOrep);\r\n\t\t\t\t\tNumber(aOreTot).toFixed(1);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.getView().byId(\"LRS4_DAT_ORETOT\").setValue(aOreTot);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\tonTimePickerCheck: function() {\r\n\r\n               \tvar oView ;\r\n\t\t     \toView = this.getView();\r\n\t\t     \t\r\n\t\t     \tvar aZtimestart = this.timeFrom.getValue();\r\n\t\t\t\tvar aZtimeend = this.timeTo.getValue();\r\n\t\t     \t\r\n\t\t\t\t/////////////////////////////////////\r\n\t\t\t\r\n\t\t\t\t\t\t//controllo correttezza inserimento intervallo ore\r\n\t\t\t\tif  (aZtimestart === \"\" & aZtimeend !== \"\")  {\r\n\r\n\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\"Inserimento ora inizio non corretto\", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\tthis.timeFrom.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t//controllo correttezza inserimento intervallo ore\r\n\t\t\t\tif  (aZtimestart !== \"\" & aZtimeend === \"\")  {\r\n\r\n\t\t\t\t//\tjQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\"Inserimento ora fine non corretto\", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.ERROR,\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\tthis.timeTo.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t}\t\r\n\t\t\t////////////////////////////////////\r\n\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\r\n\t\t\tcheckCalendarSelection: function() {\r\n\t\t\tvar aSelectedDates = this.cale.getSelectedDates();\r\n\t\t\tvar oDate;\r\n\t\t\tvar oView;\r\n\t\t\t\toView = this.getView();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t//controllo che almeno un giorno sia selezionato\r\n\t\t\t\tif (aSelectedDates.length == 0) {\r\n\r\n\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\"Selezionare almeno un giorno!\", {\r\n\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t  \r\n\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t    //CHECK GIORNI DI PREAVVISO///////////////////////////////\r\n\t\t\t\tvar urgentReqLimit = new Date();\r\n\t\t\t\turgentReqLimit.setDate(urgentReqLimit.getDate()+3);\r\n\t\t\t\t\r\n\t\t\t\tthis.note.setValueState(sap.ui.core.ValueState.None);\r\n\t\t\t\t\r\n\t\t\t\t\tif (aSelectedDates.length > 0) {\r\n\r\n\t\t\t\t\tfor (var i = 0; i < aSelectedDates.length; i++) {\r\n\r\n\t\t\t\t\t\toDate = aSelectedDates[i].getStartDate();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (oDate <= urgentReqLimit & this.note.getValue() === \"\") {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Attenzione: Per richieste con meno di 3 giorni di preavviso la direzione richiede la compilazione obbligatoria del campo note.\", {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.note.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// CHECK RECUPERO\r\n\t\t\t\tvar absType = this.slctLvType.getSelectedKey();\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (absType === \"0003\" & this.note.getValue() === \"\") {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Attenzione: Specificare nelle note giorno/i di lavoro ai quali si riferisce il recupero. Es.: assenza del 21/09/2017 come recupero del 16/09/2017 8 ore\", {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tthis.note.setValueState(sap.ui.core.ValueState.Error);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn \"KO\";\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// NON USATA\r\n\t\t\thandleAbsTypeSelect: function(oEvent) {\r\n\t\t\t\tvar oAbsType = oEvent.oSource;\r\n\t\t\t\tvar aAbsTypeKey = oAbsType.getSelectedKey();\r\n\t\t\t\t\r\n\t\t\t\t\tif (aAbsTypeKey === \"0003\") {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Attenzione: Specificare nelle note giorno/i di lavoro ai quali si riferisce il recupero. Es.: assenza del 21/09/2017 come recupero del 16/09/2017 8 ore\", {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.INFORMATION,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Information\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\t//SE START CUSTOM CALENDAR\r\n\t\t\thandleCalendarSelect: function(oEvent) {\r\n\r\n\t\t\t\tvar oView;\r\n\t\t\t\toView = this.getView();\r\n\r\n\t\t\t\tvar oCalendar = oEvent.oSource;\r\n\t\t\t\tvar aSelectedDates = oCalendar.getSelectedDates();\r\n\r\n\t\t\t\tvar oDate;\r\n\t\t\t\tvar oSpecialDate;\r\n\t\t\t\tvar oDataSel = {\r\n\t\t\t\t\tselectedDates: []\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar aSpecialDates = this.cale.getSpecialDates();\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\tvar now = new Date();\r\n\t\t\t\t\r\n                    //Subtract one day from it\r\n                    now.setDate(now.getDate()-1);\r\n                    // get current date\r\n                    //var date = Date.parse(oEvent.oSource.getLiveValue());\r\n                    \r\n\r\n\t\t\t\tif (aSelectedDates.length > 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar pastReqLimit = new Date();\r\n\t\t\t\t    pastReqLimit.setDate(pastReqLimit.getDate()-31);\r\n\r\n\t\t\t\t\tfor (var i = 0; i < aSelectedDates.length; i++) {\r\n\r\n\t\t\t\t\t\toDate = aSelectedDates[i].getStartDate();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t///CHECK DATE PASSATE///////////////////////////////////\r\n\t\t\t\t\t\t// if current date lower than past dates, show error\r\n\t\t\t\t\t//\tif (oDate < now) {\r\n\t\t\t\t\tif (oDate < pastReqLimit) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Attenzione: Non è possibile selezionare date nel passato di oltre 31 giorni, \" + oDate, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//\toCalendar.removeSelectedDate(oDater);\r\n\t\t\t\t\t\t\t\toCalendar.removeAllSelectedDates();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t//CHECK GIORNI NON LAVORATIVI///////////////////////////////\r\n\t\t\t\t\t\tvar oDayOfWeek = this.oFormatDaysShort.format(oDate);\r\n\r\n\t\t\t\t\t\tif(oDayOfWeek === \"sab\" || oDayOfWeek === \"sat\" || oDayOfWeek === \"dom\" || oDayOfWeek=== \"sun\") {\r\n\t\t\t\t\t\t//if(oDate === sap.ui.unified.CalendarDayType.NonWorking) {\r\n\t\t\t\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Attenzione: Non è possibile selezionare giorni non lavorativi, rimuovere la selezione, \" + oDate, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t//oCalendar.removeAllSelectedDates();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//CHECK RIHIESTE SOVRAPPOSTE///////////////////////////////\r\n\t\t\t\t\t\t//\tvar\toDater = aSelectedDates[i].getStartDate();\r\n\t\t\t\t\t\toDate = this.oFormatYyyymmdd.format(oDate);\r\n\t\t\t\t\t\tfor (var ii = 0; ii < aSpecialDates.length; ii++) {\r\n\r\n\t\t\t\t\t\t\toSpecialDate = aSpecialDates[ii].getStartDate();\r\n\t\t\t\t\t\t\toSpecialDate = this.oFormatYyyymmdd.format(oSpecialDate);\r\n\r\n\t\t\t\t\t\t\tif (oDate == oSpecialDate) {\r\n\r\n\t\t\t\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\t\t\"Attenzione: Non è possibile inserire più di una richiesta per giorno, controllare giorno \" + oDate, {\r\n\t\t\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t//\talert(\"Errore sovrapposizione giorni\");\r\n\t\t\t\t\t\t\t\t//\toCalendar.removeSelectedDate(oDater);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\toCalendar.removeAllSelectedDates();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t///////////////////////////////////////\r\n\t\t\t\t\t\t// servirebbe per notificare a video date selezionate, serve un nuovo model json\r\n\t\t\t\t\t\t//\t oDataSel.selectedDates.push({Date:oDate});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n                \r\n                // se seleziono più di un giorno disabilito timepicker e calcolo ore tot\r\n\t\t\t\tif (aSelectedDates.length > 1) {\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").rerender();\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setEnabled(false);\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").rerender();\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setEnabled(false);\r\n\r\n\t\t\t\t\tvar aOreTot;\r\n\r\n\t\t\t\t\tvar aOreDay = 8.0;\r\n\r\n\t\t\t\t\taOreTot = parseFloat(aSelectedDates.length * aOreDay);\r\n\t\t\t\t\tNumber(aOreTot).toFixed(1);\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ORETOT\").setValue(aOreTot);\r\n\r\n\t\t\t\t}\r\n                 \r\n                // se seleziono solo un giorno abilito timepicker e calcolo ore\r\n\t\t\t\tif (aSelectedDates.length > 0 & aSelectedDates.length < 2) {\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").rerender();\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setEnabled(true);\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").rerender();\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setEnabled(true);\r\n\r\n\t\t\t\t\tvar aZtimestart = this.timeFrom.getValue();\r\n\t\t\t\t\tvar aZtimeend = this.timeTo.getValue();\r\n\t\t\t\t\tvar aOreTot;\r\n\t\t\t\t\tvar aOreDay = 8.0;\r\n\r\n\r\n\t\t\t\t\t// se uno dei due timepicker è vuoto cancello conteggio ore\r\n\t\t\t\t\tif (aZtimestart === \"\" || aZtimeend === \"\") {\r\n\r\n\t\t\t\t\t\taOreTot = \"\";\r\n\t\t\t\t\t\toView.byId(\"LRS4_DAT_ORETOT\").setValue(aOreTot);\r\n\t\t\t\t\t}\r\n                    \r\n                    // se entrambi i timepicker non sono valorizzati assumo 8 ore di default\r\n\t\t\t\t\tif (aZtimestart === \"\" & aZtimeend === \"\") {\r\n\r\n\t\t\t\t\t\taOreTot = parseFloat(aSelectedDates.length * aOreDay);\r\n\r\n\t\t\t\t\t}\r\n                    \r\n                    // valorizzo oreTot nella vista\r\n\t\t\t\t\tthis.getView().byId(\"LRS4_DAT_ORETOT\").setValue(aOreTot);\r\n\r\n\t\t\t\t}\r\n  \r\n                // se nessun giorno è selezionato disabilito timepicker\r\n\t\t\t\tif (aSelectedDates.length === 0) {\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setEnabled(false);\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").rerender();\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setEnabled(false);\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").rerender();\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ORETOT\").setValue(\"0\");\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ORETOT\").setEnabled(false);\r\n\t\t\t\t\toView.byId(\"LRS4_DAT_ORETOT\").rerender();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\thandleRemoveSelection: function(oEvent) {\r\n\t\t\t\tthis.getView().byId(\"LRS4_DAT_CALENDAR\").removeAllSelectedDates();\r\n\t\t\t\t//\tthis._clearModel();\r\n\t\t\t},\r\n\r\n\t\t\t/*_clearModel: function() {\r\n\t\t\tvar oData = {selectedDates:[]};\r\n\t\t\tthis.oModel.setData(oData);\r\n\t\t},*/\r\n\t\t\r\n\t\t\r\n\t\t\tonDisplayNotFound: function(oEvent) {\r\n\t\t\t\t//display the \"notFound\" target without changing the hash\r\n\t\t\t\tthis.getRouter().getTargets().display(\"notFound\", {\r\n\t\t\t\t\tfromTarget: \"view1\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tonActionDialog: function(oEvent) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar oView = this.getView();\r\n\t\t\t\t\tvar oViewId = oView.getId();\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tvar bCompact = !!this.getView().$().closest(\".sapUiSizeCompact\").length;\r\n\t\t\t\t\tvar absType = this.slctLvType.getSelectedKey();\r\n\t\t\t\t\tvar tabsType = formatter.formatAbsence(absType);\r\n\t\t\t\t\r\n\t\t\t\t\tthis.sButtonKey = oEvent.getSource().getId();\r\n\t\t\t\t\t \r\n\t\t\t\t\t \r\n\t\t//estraggo id della view \r\n\t\tvar sViewIdStart = oView.getId().indexOf(\"---\");\r\n\t\tsViewIdStart = sViewIdStart + 3;\r\n\t\t\r\n\t    //\t\tvar sPrefix = oView.getId().substring(0, oView.getId().indexOf(\"---\");) + \"---\"; \r\n\t   var sViewID = oView.getId().substring(sViewIdStart); \r\n\t   \r\n\t   // l'alternativa è basarsi sul nome della view completa\r\n\t\t//\tvar sViewName = oView.getViewName(); \r\n\t\t\r\n\t\t// inserisco giorni selezionati un una stringa di testo per dettagli messagebox\r\n\t                    var aSelectedDates = this.cale.getSelectedDates();\r\n\t\t\t\t\t\t//var oDataSel = {\r\n\t\t\t\t\t\t//\tselectedDates: []\r\n\t\t\t\t\t//\t};\r\n\t \r\n\t\t\t\t\t\t\tvar oDate;\r\n\t\t\t\t\t\t\tvar oDateTxt = \"\";\r\n\t\t\t\t\t\t\tvar oComma = \"\";\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\tif (aSelectedDates.length > 0) {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < aSelectedDates.length; i++) {\r\n\t\t\t\t\t\t\t\t\toDate = aSelectedDates[i].getStartDate();\r\n\t\t\t\t\t\t\t\t\toDate = this.oFormatYyyymmdd.format(oDate);\r\n\t\t\t\t\t\t\t\t\toDate = formatter.formatDate(oDate);\r\n\t\t\t\t\t\t\t\t\t//oDataSel.selectedDates.push({Date:oDate});\r\n\t\t\t\t\t\t\t\t\t\tif (oDateTxt !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\toComma = \", \";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\toDateTxt = oDateTxt + oComma + oDate;\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t}\t\r\n\t\r\n\t\t\t\t\t\r\n\t\t\t//\tif (oViewId ===\t\"__component0---V1\") {\t\r\n\t\t\t\t\t\tif (sViewID ===\t\"V1\") {\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t // controllo button selezionato\r\n\t\t\t\t\t   if (this.sButtonKey === oView.byId(\"btn1\").getId()) {\r\n\t\t\t\t\t\t// se bt1 eseguo controlli per azione di modifica\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t // richiamo function in baseController per verifica calendario     \r\n\t\t\t\t\t\t var calCheck =  this.checkCalendarSelection();\r\n\t                    if (calCheck === \"KO\") {return;}\r\n\t                    \r\n\t                       // richiamo function in baseController per verifica ore   \r\n\t                    var timeCheck = this.onTimePickerChange();\r\n\t                    if (timeCheck === \"KO\") {return;}\r\n\t                 \r\n\t                   // richiamo function in baseController per verifica ore campi vuoti   \r\n\t                   var timeCheckBlank = this.onTimePickerCheck();   \r\n\t                    if (timeCheckBlank === \"KO\") {return;}\r\n\t                    \r\n\r\n\t\t\t\t\t\tMessageBox.confirm(\"Confermi l'invio della richiesta?\", {\r\n\t\t\t\t\t\t\ticon: MessageBox.Icon.QUESTION,\r\n\t\t\t\t\t\t\ttitle: \"Invio Richiesta\",\r\n\t\t\t\t\t\t\tactions: [MessageBox.Action.YES, MessageBox.Action.NO],\r\n\t\t\t\t\t\t\tinitialFocus : MessageBox.Action.NO,\r\n\t\t\t\t\t\t\tid: \"messageBoxId1\",\r\n\t\t\t\t\t\t\tdefaultAction: MessageBox.Action.NO,\r\n\t\t\t\t\t\t\tdetails: \"Tipo di richiesta: \" + tabsType + \" \\nApprovatore: \" + this.slctApprover.getSelectedKey() + \" \\nOre totali: \" + this.oreTot.getValue()\r\n\t\t\t\t\t\t\t+ \" \\nGiorno/i assenza: \" + oDateTxt + \" \\nCliccando SI, la richiesta verrà inoltrata, riceverai una notifica via mail sul suo esito. Puoi modificare o eliminare solo le richieste in stato 'Inviata' accedendo allo storico. \",\r\n\t\t\t\t\t\t\tstyleClass: bCompact ? \"sapUiSizeCompact\" : \"\",\r\n\t\t\t\t\t\t\tcontentWidth: \"100px\",\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t onClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t        if (oAction == \"YES\") {\r\n\t\t\t\t\t\t\t\t        \tthat.actionTask();\r\n\t\t\t\t\t\t\t\t            //sap.ui.controller(\"eone_zteam_calendar.controller.View1\").actionTask(); //altro modo per richiamare function se non ci fosse un event\r\n\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t\t\t        else \r\n\t\t\t\t\t\t\t\t\t\t        {\r\n\t\t\t\t\t\t\t\t\t\t            return;\r\n\t\t\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t    \t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t   } \r\n\t\t\t\t}   \r\n\t\t\t\t\r\n\t\t\t//\tif (oViewId === \"__component0---V2\") {\r\n\t\t\t\t\t\tif (sViewID === \"V2\") {\r\n\t\t\t\t\tif (this.sButtonKey ===oView.byId(\"btn1_mod\").getId()) {\r\n\t\t\t\t\t   \t\t// se bt1_mod  eseguo controlli e modifico\r\n\t\t\t\t\t   \t\t\r\n\t\t\t\t\t   \t // richiamo function in baseController per verifica calendario     \r\n\t\t\t\t\t\t var calCheck =  this.checkCalendarSelection();\r\n\t                    if (calCheck === \"KO\") {return;}\r\n\t                    \r\n\t                       // richiamo function in baseController per verifica ore   \r\n\t                    var timeCheck = this.onTimePickerChange();\r\n\t                    if (timeCheck === \"KO\") {return;}\r\n\t                 \r\n\t                   // richiamo function in baseController per verifica ore campi vuoti   \r\n\t                   var timeCheckBlank = this.onTimePickerCheck();   \r\n\t                    if (timeCheckBlank === \"KO\") {return;}\r\n\t\t\t\t\t   \t\t\r\n\t\t\t\t\t   \t\tMessageBox.confirm(\"Confermi la modifica della richiesta?\", {\r\n\t\t\t\t\t\t\t\ticon: MessageBox.Icon.QUESTION,\r\n\t\t\t\t\t\t\t\ttitle: \"Modifica Richiesta\",\r\n\t\t\t\t\t\t\t\tactions: [MessageBox.Action.YES, MessageBox.Action.NO],\r\n\t\t\t\t\t\t\t\tinitialFocus : MessageBox.Action.NO,\r\n\t\t\t\t\t\t\t\tid: \"messageBoxId1_mod\",\r\n\t\t\t\t\t\t\t\tdefaultAction: MessageBox.Action.NO,\r\n\t\t\t\t\t\t\t\tdetails: \"Tipo di richiesta: \" + tabsType + \" \\nApprovatore: \" + this.slctApprover.getSelectedKey() + \" \\nOre totali: \" + this.oreTot.getValue()\r\n\t\t\t\t\t\t\t\t\t+ \" \\nGiorno/i assenza: \" + oDateTxt + \" \\nCliccando SI, la richiesta verrà modificata, riceverai una notifica via mail sul suo esito. Puoi modificare o eliminare solo le richieste in stato 'Inviata' accedendo allo storico. \",\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tstyleClass: bCompact ? \"sapUiSizeCompact\" : \"\",\r\n\t\t\t\t\t\t\t\tcontentWidth: \"100px\",\r\n\t\t\t\t\t\t\t\t onClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t        if (oAction == \"YES\") {\r\n\t\t\t\t\t\t\t\t\t        \tthat.actionTask();\r\n\t\t\t\t\t\t\t\t\t            //sap.ui.controller(\"eone_zteam_calendar.controller.View1\").actionTask(); //altro modo per richiamare function se non ci fosse un event\r\n\t\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t\t\t\t        else \r\n\t\t\t\t\t\t\t\t\t\t\t        {\r\n\t\t\t\t\t\t\t\t\t\t\t            return;\r\n\t\t\t\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t\t    \t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} \r\n\t\t\t\t\t\r\n\t\t\t\t\telse if (this.sButtonKey ===oView.byId(\"btn2_del\").getId()) {\r\n\t\t\t\t\t\t\t// se bt2_del non eseguo controlli ed elimino, in action verrà passato il parametro sDeleted = \"X\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tMessageBox.confirm(\"Confermi l'eliminazione della richiesta?\", {\r\n\t\t\t\t\t\t\t\ticon: MessageBox.Icon.QUESTION,\r\n\t\t\t\t\t\t\t\ttitle: \"Elimina Richiesta\",\r\n\t\t\t\t\t\t\t\tactions: [MessageBox.Action.YES, MessageBox.Action.NO],\r\n\t\t\t\t\t\t\t\tinitialFocus : MessageBox.Action.NO,\r\n\t\t\t\t\t\t\t\tid: \"messageBoxId1_del\",\r\n\t\t\t\t\t\t\t\tdefaultAction: MessageBox.Action.NO,\r\n\t\t\t\t\t\t\t\tdetails: \"Tipo di richiesta: \" + tabsType + \" \\nApprovatore: \" + this.slctApprover.getSelectedKey() + \" \\nOre totali: \" + this.oreTot.getValue()\r\n\t\t\t\t\t\t\t\t+ \" \\nGiorno/i assenza: \" + oDateTxt + \" \\nCliccando SI, la richiesta verrà eliminata, non potrai più visualizzarla nell'APP.\",\r\n\t\t\t\t\t\t\t\tstyleClass: bCompact ? \"sapUiSizeCompact\" : \"\",\r\n\t\t\t\t\t\t\t\tcontentWidth: \"100px\",\r\n\t\t\t\t\t\t\t\t onClose: function(oAction) {\r\n\t\t\t\t\t\t\t\t\t        if (oAction == \"YES\") {\r\n\t\t\t\t\t\t\t\t\t        \tthat.actionTask();\r\n\t\t\t\t\t\t\t\t\t            //sap.ui.controller(\"eone_zteam_calendar.controller.View1\").actionTask(); //altro modo per richiamare function se non ci fosse un event\r\n\t\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t\t\t\t        else \r\n\t\t\t\t\t\t\t\t\t\t\t        {\r\n\t\t\t\t\t\t\t\t\t\t\t            return;\r\n\t\t\t\t\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t\t    \t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\tactionTask: function(oEvent) {\r\n\t\t\r\n                var oView = this.getView();\r\n                var oViewId = oView.getId();\r\n\t\t\t\tvar oModel = this.getView().getModel();\r\n\t\t\t\tsap.ui.getCore().setModel(oModel);\r\n\t\t\t\t\r\n\t\t\t\t\tvar that = this;\r\n                \r\n\t\t\t\t//causa bug di versione sono costretto a forzare xml, altrimenti i campi di tipo \r\n\t\t\t\t//decimali fanno andare la chiamata post create_deep_entity in errore: CX_SXML_PARSE_ERROR\r\n\t\t\t\t//note sap:\r\n\t\t\t\t//1751991 - OData Channel - Deep Insert in JSON Format Leads to Error\r\n\t\t\t\t//1874920 - Error in \"deep insert\" case when parsing JSON\r\n\t\t\t\t// https://archive.sap.com/discussions/thread/3936579\r\n\t\t\t\t////\r\n\t\t\t\toModel.oHeaders.Accept = \"application/atom+xml,application/atomsvc+xml,application/xml\";\r\n\r\n\t\t\t\toModel.bJSON = false;\r\n\t\t\t\t/////  \r\n\t\t\t\t//          oModel.setUseBatch(false);\r\n\t\t\t\t//var oObject = oView.getBindingContext().getObject();\r\n                var sButtonId = this.sButtonKey;\r\n\t\t\t\tvar sDeleted = \"\";\r\n\t\t\t\tvar sZrequestId = \"\";\r\n\t\t\t\tvar sAction = \"creata\"; \r\n\t\t\t\t\r\n\t\t\t\t\t\t//estraggo id della view \r\n\t\t\t\tvar sViewIdStart = oView.getId().indexOf(\"---\");\r\n\t\t\t\tsViewIdStart = sViewIdStart + 3;\r\n\t\t\t\t\r\n\t\t\t    //\t\tvar sPrefix = oView.getId().substring(0, oView.getId().indexOf(\"---\");) + \"---\"; \r\n\t\t\t   var sViewID = oView.getId().substring(sViewIdStart); \r\n\t   \r\n\t   // l'alternativa è basarsi sul nome della view completa\r\n\t\t//\tvar sViewName = oView.getViewName(); \r\n\t\t\t\t\r\n\t\t\t//\tif (oViewId === \"__component0---V2\") {\t\r\n\t\t\tif (sViewID === \"V2\") {\t\r\n\t\t\t\t\t if (sButtonId === oView.byId(\"btn2_del\").getId()) {\r\n\t\t\t\t\t \tvar oObject = oView.getBindingContext().getObject();\r\n\t\t\t\t\t \tsZrequestId = oObject.ZrequestId;\r\n\t\t\t\t\t \tsDeleted = \"X\";\r\n\t\t\t\t\t \tsAction = \"eliminata\";\r\n\t\t\t\t\t }\r\n\t\t\t\t\t else if (sButtonId === oView.byId(\"btn1_mod\").getId()) {\r\n\t\t\t\t\t    var oObject = oView.getBindingContext().getObject();\r\n\t\t\t\t\t \tsZrequestId = oObject.ZrequestId;\r\n\t\t\t\t\t \tsAction = \"modificata\";\r\n\t\t\t\t\t \r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\tvar aSelectedDates = this.cale.getSelectedDates();\r\n\t\t\t\tvar oDate;\r\n                \r\n                \r\n\t\t\t\tvar aZtimestart = this.timeFrom.getValue();\r\n\t\t\t\tvar aZtimeend = this.timeTo.getValue();\r\n\t\t\t\tvar aOreTot = this.oreTot.getValue();\r\n\t\t\t\tvar\taOrep = aOreTot / aSelectedDates.length;\r\n\t\t\t\t\r\n\t\t\t\tvar oUrlParams = {\r\n\t\t\t\t\tZrequestId: sZrequestId,\r\n\t\t\t\t\tTmsapprover: this.slctApprover.getSelectedKey(),\r\n\t\t\t\t\tZabsType: this.slctLvType.getSelectedKey(),\r\n\t\t\t\t\tZreqStatus: \"I\",\r\n\t\t\t\t\tZoreTotali: aOreTot,\r\n\t\t\t\t\tZnote: this.note.getValue(),\r\n\t\t\t\t\tZdeleted: sDeleted\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\toUrlParams.ToLeaveReqPos = [];\r\n\t\t\t\tif (aSelectedDates.length > 0) {\r\n\t\t\t\t\tfor (var i = 0; i < aSelectedDates.length; i++) {\r\n\t\t\t\t\t\toDate = aSelectedDates[i].getStartDate();\r\n\t\t\t\t\t\toUrlParams.ToLeaveReqPos.push({\r\n\t\t\t\t\t\t\tZdate: this.oFormatYyyymmdd.format(oDate),\r\n\t\t\t\t\t\t\tZtimestart: aZtimestart,\r\n\t\t\t\t\t\t\tZtimeend: aZtimeend,\r\n\t\t\t\t\t\t\tTmsapprover: this.slctApprover.getSelectedKey(),\r\n\t\t\t\t\t\t\tZabsType: this.slctLvType.getSelectedKey(),\r\n\t\t\t\t\t\t\tZorep: aOrep,\r\n\t\t\t\t\t\t\tZreqStatus: \"I\"\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//\tthis.oModel.setData(oData);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\tthis._clearModel();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//jQuery.sap.require(\"sap.ui.commons.MessageBox\");\r\n\t\t\t\toModel.create('/LeaveRequestSet', oUrlParams, {\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tsuccess: fnS,\r\n\r\n\t\t\t\t\terror: fnE\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//}\r\n\t\t\t\t//}\t\r\n\t\t\t\tfunction fnS(oData, response) {\r\n\t\t\t\t//\tconsole.log(oData);\r\n\t\t\t\t//\tconsole.log(response);\r\n\r\n\t\t\t\t\t// controllo che la funzione è andata a buon fine recuperando il risultato della function sap\r\n\t\t\t\t\t//\tif (oData.Type == \"S\") {\r\n\t\t\t\t\tif (response.statusCode == \"201\") {\r\n\r\n\t\t\t\t\t\t//\tvar msg = \"Success: \"+oData.Message+\", \"+sTypeAction;\r\n\t\t\t\t\t\tvar msg = \"Richiesta \" + sAction + \" con successo.\\nID: \" + formatter.formatRequestId(oData.ZrequestId) + \"\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsap.m.MessageToast.show(msg, {\r\n\t\t\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\t\t\tcloseOnBrowserNavigation: false\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// ripulisco campi  \t\r\n\t\t\t\t\t\toView.byId(\"LRS4_DAT_CALENDAR\").removeAllSelectedDates();\r\n\r\n\t\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").setValue(\"\");\r\n\t\t\t\t\t\toView.byId(\"LRS4_DAT_STARTTIME\").rerender();\r\n\t\t\t\t\t\t//oView.byId(\"LRS4_DAT_STARTTIME\").setEnabled(true);\r\n\r\n\t\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").setValue(\"\");\r\n\t\t\t\t\t\toView.byId(\"LRS4_DAT_ENDTIME\").rerender();\r\n\t\t\t\t\t\t//oView.byId(\"LRS4_DAT_ENDTIME\").setEnabled(true);\r\n\r\n\t\t\t\t\t\toView.byId(\"LRS4_TXA_NOTE\").setValue(\"\");\r\n\t\t\t\t\t\toView.byId(\"LRS4_TXA_NOTE\").rerender();\r\n\t\t\t\t\t\toView.byId(\"LRS4_TXA_NOTE\").setEnabled(true);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//\tif (oViewId === \"__component0---V2\") {\r\n\t\t\t\t\t    if (sViewID === \"V2\") {\t\r\n\t\t\t\t\t\t\t\t// faccio refresh tabella riepilogativa delle richieste\r\n\t\t\t\t\t\t\t\tvar sPrefix = oView.getId().substring(0, oView.getId().indexOf(\"---\")) + \"---\"; \r\n\t\t\t\t\t\t\t    var oViewW = sap.ui.getCore().byId(sPrefix + \"V1S\");\r\n\t\t\t\t\t\t\t\tvar oTable = oViewW.byId(\"__table0\");\r\n\t\t\t\t\t\t\t\toTable.getBinding(\"items\").refresh();\r\n\t\t\t\t\t\t\t\tsap.ui.controller(\"eone_zteam_calendar.controller.View2\").onNavBackDirect();\r\n\t\t\t\t\t\t\t//    that.onRefreshTable();\r\n\t\t\t\t\t\t\t//\tthat.getRouter().navTo(\"view1s\", {});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t//\tif (oViewId === \"__component0---V1\") {\t\r\n\t\t\t\t\t\tif (sViewID === \"V1\") {\t\r\n\t\t\t\t\t\t\t\r\n\t\r\n\t\t\t\t\t\t\tthat.getRouter().navTo(\"view1s\", {});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\r\n\t\t\t\t\t\tsap.m.MessageBox.show(\r\n\t\t\t\t\t\t\t\"Error: \" + oData.Message, {\r\n\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t\t\t\t\ttitle: \"Error\",\r\n\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} // END FUNCTION SUCCESS\r\n\r\n\t\t\t\tfunction fnE(oError) {\r\n\t\t\t\t//\tconsole.log(oError);\r\n\r\n\t\t\t\t\talert(\"Error in read: \" + oError.message + \"\\n\" + oError.responseText);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t_initCntrls: function() {\r\n\t\t\t//\tthis.changeMode = false;\r\n\t\t\t//\tthis.withdrawMode = false;\r\n\t\t\t//\tthis.oChangeModeData = {};\r\n\t\t\t//\tthis.selRange = {};\r\n\t\t\t//\tthis.selRange.start = null;\r\n\t\t\t//\tthis.selRange.end = null;\r\n\t\t\t//\tthis.aLeaveTypes = [];\r\n\t\t\t//\tthis.leaveType = {};\r\n\t\t\t//\tthis.iPendingRequestCount = 0;\r\n\t\t\t//\tthis.bSubmitOK = null;\r\n\t\t\t//\tthis.bApproverOK = null;\r\n\t\t\t//\tthis.oSubmitResult = {};\r\n\t\t\t//\tthis.sApprover = \"\";\r\n\t\t\t//\tthis.sApproverPernr = \"\";\r\n\t\t\t//\tthis.bSimulation = true;\r\n\t\t\t//\tthis._isLocalReset = false;\r\n\t\t\t//\tthis.oBusy = new sap.m.BusyDialog();\r\n\t\t\t//\tthis.formContainer = this.byId(\"LRS4_FRM_CNT_BALANCES\");\r\n\t\t\t//\tthis.timeInputElem = this.byId(\"LRS4_FELEM_TIMEINPUT\");\r\n\t\t\t//\tthis.balanceElem = this.byId(\"LRS4_FELEM_BALANCES\");\r\n\t\t\t//\tthis.noteElem = this.byId(\"LRS4_FELEM_NOTE\");\r\n\t\t\t\tthis.timeFrom = this.byId(\"LRS4_DAT_STARTTIME\");\r\n\t\t\t\tthis.timeTo = this.byId(\"LRS4_DAT_ENDTIME\");\r\n\t\t\t\tthis.oreTot = this.byId(\"LRS4_DAT_ORETOT\");\r\n\t\t\t\tthis.legend = this.byId(\"LRS4_LEGEND\");\r\n\t\t\t//\tthis.remainingVacation = this.byId(\"LRS4_TXT_REMAINING_DAYS\");\r\n\t\t\t//\tthis.bookedVacation = this.byId(\"LRS4_TXT_BOOKED_DAYS\");\r\n\t\t\t\tthis.note = this.byId(\"LRS4_TXA_NOTE\");\r\n\t\t\t//\tthis.note_rec = this.byId(\"LRS4_TXA_NOTE_RECUP\");\r\n\t\t\t\tthis.cale = this.byId(\"LRS4_DAT_CALENDAR\");\r\n\t\t\t\tthis.slctLvType = this.byId(\"SLCT_LEAVETYPE\");\r\n\t\t\t\tthis.slctApprover = this.byId(\"SLCT_APPROVER\");\r\n\t\t\t//\tthis.calSelResetData = [];\r\n\t\t\t\t//SE\r\n\t\t\t\t//this._initCalendar();\r\n\t\t\t\t//\t\tthis._deviceDependantLayout();\r\n\t\t\t//\tthis.objectResponse = null;\r\n\t\t\t//\tthis.ResponseMessage = null;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t/**\r\n\t\t * Event handler when the share button has been clicked\r\n\t\t * @param {sap.ui.base.Event} oEvent the butten press event\r\n\t\t * @public\r\n\t\t */\r\n\t\tonSharePress: function() {\r\n\t\t\tvar oShareSheet = this.byId(\"shareSheet\");\r\n\t\t\tjQuery.sap.syncStyleClass(this.getOwnerComponent().getContentDensityClass(), this.getView(), oShareSheet);\r\n\t\t\toShareSheet.openBy(this.byId(\"shareButton\"));\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Event handler when the share by E-Mail button has been clicked\r\n\t\t * @public\r\n\t\t */\r\n\t\tonShareEmailPress: function() {\r\n\t\t\tvar oViewModel = (this.getModel(\"objectView\") || this.getModel(\"worklistView\"));\r\n\t\t\tsap.m.URLHelper.triggerEmail(\r\n\t\t\t\tnull,\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailSubject\"),\r\n\t\t\t\toViewModel.getProperty(\"/shareSendEmailMessage\")\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"eone_zteam_calendar/controller/NotFound.controller.js": "sap.ui.define([\r\n\t\"eone_zteam_calendar/controller/BaseController\"\r\n], function(BaseController) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"eone_zteam_calendar.controller.NotFound\", {\r\n\r\n\t\t/**\r\n\t\t * Navigates to the worklist when the link is pressed\r\n\t\t * @public\r\n\t\t */\r\n\t\tonInit: function () {\r\n\t\t\tvar oRouter, oTarget;\r\n\t\t\toRouter = this.getRouter();\r\n\t\t\toTarget = oRouter.getTarget(\"notFound\");\r\n\t\t\toTarget.attachDisplay(function (oEvent) {\r\n\t\t\t\tthis._oData = oEvent.getParameter(\"data\"); //store the data\r\n\t\t\t}, this);\r\n      },\r\n      // override the parent's onNavBack (inherited from BaseController)\r\n\t\tonNavBack : function (oEvent){\r\n\t\t\tvar oHistory, sPreviousHash, oRouter;\r\n\t\t\t// in some cases we could display a certain target when the back button is pressed\r\n\t\t\tif (this._oData && this._oData.fromTarget) {\r\n\t\t\t\tthis.getRouter().getTargets().display(this._oData.fromTarget);\r\n\t\t\t\tdelete this._oData.fromTarget;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// call the parent's onNavBack\r\n\t\t\tBaseController.prototype.onNavBack.apply(this, arguments);\r\n\t\t}\r\n   });\r\n\r\n});",
		"eone_zteam_calendar/controller/App.controller.js": "sap.ui.define([\r\n\t\"eone_zteam_calendar/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\"\r\n], function(BaseController, JSONModel) {\r\n\t\"use strict\";\r\n\r\n\treturn BaseController.extend(\"eone_zteam_calendar.controller.App\", {\r\n\r\n\t\tonInit: function () {\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"eone_zteam_calendar/controller/View1.controller.js": "sap.ui.define([\n\t\"eone_zteam_calendar/controller/BaseController\",\n\t//\t'sap/ui/core/mvc/Controller',\n\t\t'sap/ui/model/json/JSONModel',\n\t\t'sap/m/MessageBox',\n\t\t\n\t\t'sap/ui/unified/CalendarLegendItem',\n\t\t'sap/ui/unified/DateTypeRange',\n\t\t'sap/m/Button',\n\t\t'sap/m/Dialog',\n\t\t'sap/m/Label',\n\t//\t'sap/m/MessageToast',\n\t//\t'sap/m/MessageBox',\n\t\t\"eone_zteam_calendar/model/formatter\"\n\t\t\n\t],\n\tfunction(BaseController, JSONModel, MessageBox, CalendarLegendItem, DateTypeRange, Button, Dialog, Label, formatter) {\n\t\t\"use strict\";\n\n\t\treturn BaseController.extend(\"eone_zteam_calendar.controller.View1\", {\t\n\t\t\tformatter: formatter,\n\n\t\t\toFormatYyyymmdd: null,\n\t\t\toFormatDaysShort: null,\n\t\t\toFormatYear: null,\n\n\t\t\tonInit: function () {\n\t\t\t\t\n\t\t\t\tthis._initCntrls();\n\t\t\t\t\n\t\t\t\t\tthis.oFormatYyyymmdd = sap.ui.core.format.DateFormat.getInstance({\n\t\t\t\t\tpattern: \"yyyyMMdd\",\n\t\t\t\t\tcalendarType: sap.ui.core.CalendarType.Gregorian\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.oFormatDaysShort = sap.ui.core.format.DateFormat.getInstance({\n\t\t\t\t\tpattern: \"E\",\n\t\t\t\t\tcalendarType: sap.ui.core.CalendarType.Gregorian\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.oFormatYear = sap.ui.core.format.DateFormat.getInstance({\n\t\t\t\t\tpattern: \"Y\",\n\t\t\t\t\tcalendarType: sap.ui.core.CalendarType.Gregorian\n\t\t\t\t});\n\t\t\t\t\n\t\t\t//\tvar oRouter = this.getRouter();\n\t\t\t//\toRouter.getRoute(\"view1\").attachMatched(this._onRouteMatched, this);\n\t\t\t\t\n\t\n\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\t     toDate: function(sValue) {\n            if (sValue) {\n                return new Date(sValue); //\n            }\n        },\n        \n\t\t\t\n\t\t\t_onRouteMatched: function(oEvent) {\n\n\t\t\t\tvar oView = this.getView();\n\n\t\t\t\toView.bindElement({\n\t\t\t\t\tpath: \"/LeaveRequestPosSet\",\n\t\t\t\t\t//\tparameters : {expand: 'ToLeaveReqPos'}, \n\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tchange: this._onBindingChange.bind(this),\n\t\t\t\t\t\tdataRequested: function(oEvent) {\n\t\t\t\t\t\t\toView.setBusy(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdataReceived: function(oEvent) {\n\t\t\t\t\t\t\toView.setBusy(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\t_onBindingChange: function() {\n\n\t\t\t\tvar oView = this.getView();\n\t\t\t\tvar oModel = this.getView().getModel();\n\t\t\t\tsap.ui.getCore().setModel(oModel);\n\t\t\t\t\n\t\t\t\tvar oCal1 = oView.byId(\"PC1\");\n\t\t\t\t\n\t\t\t//\tvar oRefDate = new Date();\n\t\t\t\t\t\t\n\t\t\t//\toCal1.startDate(oRefDate);\n\t\t\t\toCal1.destroyRows();\n\t\t\t\t\n\t\t/*\t\t\n\t\t\t oCal1.addView(\n\t\t\t\t\t\tnew sap.m.PlanningCalendarView({\n\t\t\t\t\t\t\tkey: \"customView11\",\n\t\t\t\t\t\t\tintervalType: sap.ui.unified.CalendarIntervalType.Day,\n\t\t\t\t\t\t\tdescription: \"Week4\",\n\t\t\t\t\t\t\tintervalsS: 31,\n\t\t\t\t\t\t\tintervalsM: 31,\n\t\t\t\t\t\t\tintervalsL:31,\n\t\t\t\t\t\t\tshowSubIntervals: false\n\t\t\t\t\t\t})\n\t\t\t\t\t);    \n                   oCal1.setViewKey(oCal1.getViews()[0].getKey());\n\t\t\t\n\t\n                          oCal1.addView(\n\t\t\t\t\t\tnew sap.m.PlanningCalendarView({\n\t\t\t\t\t\t\tkey: \"customView0\",\n\t\t\t\t\t\t\tintervalType: sap.ui.unified.CalendarIntervalType.Hour,\n\t\t\t\t\t\t\tdescription: \"Day\",\n\t\t\t\t\t\t\tintervalsS: 8,\n\t\t\t\t\t\t\tintervalsM: 8,\n\t\t\t\t\t\t\tintervalsL:8,\n\t\t\t\t\t\t\tshowSubIntervals: true\n\t\t\t\t\t\t})\n\t\t\t\t\t);    \n                   oCal1.setViewKey(oCal1.getViews()[0].getKey());\n                 \n                 \t oCal1.addView(\n\t\t\t\t\t\tnew sap.m.PlanningCalendarView({\n\t\t\t\t\t\t\tkey: \"customView1\",\n\t\t\t\t\t\t\tintervalType: sap.ui.unified.CalendarIntervalType.Day,\n\t\t\t\t\t\t\tdescription: \"Week\",\n\t\t\t\t\t\t\tintervalsS: 7,\n\t\t\t\t\t\t\tintervalsM: 7,\n\t\t\t\t\t\t\tintervalsL:7,\n\t\t\t\t\t\t\tshowSubIntervals: true\n\t\t\t\t\t\t})\n\t\t\t\t\t);    \n                   oCal1.setViewKey(oCal1.getViews()[0].getKey());\n                   \n                   \n                   \n                   \n                   \n                   \n                   \t oCal1.addView(\n\t\t\t\t\t\tnew sap.m.PlanningCalendarView({\n\t\t\t\t\t\t\tkey: \"customView2\",\n\t\t\t\t\t\t\tintervalType: sap.ui.unified.CalendarIntervalType.Month,\n\t\t\t\t\t\t\tdescription: \"Month\",\n\t\t\t\t\t\t\tintervalsS: 1,\n\t\t\t\t\t\t\tintervalsM: 1,\n\t\t\t\t\t\t\tintervalsL: 1,\n\t\t\t\t\t\t\tshowSubIntervals: true\n\t\t\t\t\t\t})\n\t\t\t\t\t);    \n                   oCal1.setViewKey(oCal1.getViews()[0].getKey());\n                   \n                   oCal1.addView(\n\t\t\t\t\t\tnew sap.m.PlanningCalendarView({\n\t\t\t\t\t\t\tkey: \"customView3\",\n\t\t\t\t\t\t\tintervalType: sap.ui.unified.CalendarIntervalType.Month,\n\t\t\t\t\t\t\tdescription: \"2 Months\",\n\t\t\t\t\t\t\tintervalsS: 2,\n\t\t\t\t\t\t\tintervalsM: 2,\n\t\t\t\t\t\t\tintervalsL: 2,\n\t\t\t\t\t\t\tshowSubIntervals: true\n\t\t\t\t\t\t})\n\t\t\t\t\t);    \n                   oCal1.setViewKey(oCal1.getViews()[0].getKey());*/\n\t                     \n                var zarea = oView.byId(\"SLCT_TEAMS\").getSelectedKey();\n              \n                 \n\t         \tvar sRead = \"/LeaveRequestPosTeamSet\";\n\n\t\t\t\toModel.read(sRead, {\n\t\t\t\t\t\n\t\t\t\t\tfilters: [new sap.ui.model.Filter({\n\n\t\t\t\t\t\tfilters: [new sap.ui.model.Filter({\n\t\t\t\t\t\t\tpath: \"Area\",\n\t\t\t\t\t\t\toperator: sap.ui.model.FilterOperator.EQ,\n\t\t\t\t\t\t\tvalue1: zarea\n\n\t\t\t\t\t\t})],\n\n\t\t\t\t\t\tand: true\n\n\t\t\t\t\t})],\n\n\t\t\t\t\tsuccess: fnReadS,\n\n\t\t\t\t\terror: fnReadE\n\t\t\t\t});\n\n\t\t\t\tfunction fnReadS(oData, response) {\n\t\t\t\t//\tconsole.log(oData);\n\t\t\t\t//\tconsole.log(response);\n\n\t\t\t\t\t// controllo che la funzione è andata a buon fine \n\t\t\t\t\tif (response.statusCode == \"200\") {\n\t\t\t\t\t\t////////////////////////////////\t\t\t\t\n\n\t\t\t\t\t\tvar oFormatYYyyymmdd = sap.ui.core.format.DateFormat.getInstance({\n\t\t\t\t\t\t\tpattern: \"yyyyMMdd\",\n\t\t\t\t\t\t\tcalendarType: sap.ui.core.CalendarType.Gregorian\n\t\t\t\t\t\t});\n\n\t\t\t\t\n\n\t\t\t\t\t\tvar oDateRange;\n\t\t\t\t\t\tvar person;\n\t\t\t\t\t\tvar abs_type_title;\n\t\t\t\t\t\tvar abs_type_type;\n\t\t\t\t\t\tvar abs_type_icon;\n\t\t\t\t\t\tvar abs_tooltip;\n\t\t\t\t\t\tvar abs_text;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar abs_hour;\n\t\t\t\t\t\tvar abs_min;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t var viewKey = oView.byId(\"PC1\").getViewKey();\n\t\t               \n\n\t\t\t\t\t\tif (oData.results.length > 0) {\n\t\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\n\t\t\t\t\t\t\t\t//escludo richieste rifiutate\n                            //\tif (oData.results[i].ZreqStatus === 'A' || oData.results[i].ZreqStatus === 'I') {\n\t\t\t\t\t\t\t\t//\t\t\t\t\t\tvar res = oData.results[i].Zdate.substring(8);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (oData.results[i].Tmsuser != person) {\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tperson = oData.results[i].Tmsuser;\n\t                               \n\t                              \n\t                                var oRow = new sap.m.PlanningCalendarRow({\n\t\t\t\t\t\t\t\t\t\ticon: \"sap-icon://employee\",\n\t\t\t\t\t\t\t\t\t\ttitle: person\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\toCal1.addRow(oRow);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar res = oData.results[i].Zdate;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar abs_date_start = oFormatYYyyymmdd.parse(res);\n\t\t\t\t\t\t\t\t\t var abs_date_end = oFormatYYyyymmdd.parse(res);\n\t\t\t\t\t\t\t\t\t\tvar abs_hour_start = oData.results[i].Ztimestart.substring(0,2);\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (abs_hour_start != '') {\n\t\t\t\t\t\t\t\t\t//\tif (1 == 2) {\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tvar abs_min_start = oData.results[i].Ztimestart.substring(3);\n\t\t\t\t\t\t\t\t\t\tvar abs_hour_end = oData.results[i].Ztimeend.substring(0,2);\n\t\t\t\t\t\t\t\t\t\tvar abs_min_end = oData.results[i].Ztimeend.substring(3);\n\t\t\t\t\t\t\t\t\t\t\n\t                                    abs_date_start.setHours(abs_hour_start,abs_min_start );\n\t                                    \n\t                                    abs_date_end.setHours(abs_hour_end,abs_min_end );\n\t                                    \n\t                                    abs_text = \"Dalle \" + oData.results[i].Ztimestart + \" alle \" + oData.results[i].Ztimeend;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\n\t\n\t                                    abs_date_end.setHours('23','59');\n\t                                     //\t\tabs_date_end.setDate(abs_date_end.getDate()+1);\n\t                                     \n\t                                    abs_text = \"Giornata intera\";\n\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t//\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t                switch (oData.results[i].ZabsType){\n\t                \t\tcase \"0001\":\n\t                \t\n\t                \tabs_type_title = \"Ferie iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t//\t\tabs_type_type = sap.ui.unified.CalendarDayType.Type08;\n\t\t\t\t\t\tabs_tooltip = \"Ferie iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tabs_type_icon = \"sap-icon://general-leave-request\";\n\t                \n\t                \tbreak;\n\t                \tcase \"0002\":\n\t                \t\t\n\t                \tabs_type_title = \"Permesso iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t//\t\tabs_type_type = sap.ui.unified.CalendarDayType.Type07;\n\t\t\t\t\t\tabs_tooltip =\"Permesso iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\tabs_type_icon = \"sap-icon://customer-history\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"0003\":\n\t                \t\t\n\t                \tabs_type_title = \"Recupero iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t//\t\tabs_type_type = sap.ui.unified.CalendarDayType.Type06;\n\t\t\t\t\t\t\n\t\t\t\t\t\tabs_tooltip = \"Recupero iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\tabs_type_icon = \"sap-icon://cause\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase \"0004\":\n\t                \t\t\n\t                \tabs_type_title = \"Rol iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t//\t\tabs_type_type = sap.ui.unified.CalendarDayType.Type05;\n\t\t\t\t\t\tabs_tooltip = \"Rol iD: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" \\nStato: \" + formatter.formatStatus(oData.results[i].ZreqStatus) + \" \\nGiorno: \" + formatter.formatDate(oData.results[i].Zdate);\n\t\t\t\t\t\n\t\t\t\t\t\tabs_type_icon = \"sap-icon://customer-history\";\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t                }\n\t                \n\t                if (oData.results[i].ZreqStatus == \"A\"){\n\t\t\t\t\t\tabs_type_type = sap.ui.unified.CalendarDayType.Type08;\n\t\t\t\t\t\t\t\t\n\t\t\t\t         }else\t{\n\t\t\t              abs_type_type = sap.ui.unified.CalendarDayType.Type05;\n\t\t\t                \t\n\t\t\t               }\t\n\t\t\t                \t\t\n\t\t\t                \t\t\n\t                var oAppointment = new sap.ui.unified.CalendarAppointment({\n\t\t\t\t\tstartDate: abs_date_start,\n\t\t\t\t//\t nowP.setDate(nowP.getDate()-365);\n\t\t\t\t//\tendDate: oFormatYYyyymmdd.parse(res),\n\t\t\t\t\tendDate: abs_date_end,\n\t\t\t\t\ttype: abs_type_type,\n\t\t\t\t\ttitle: abs_type_title,\n\t\t\t\t\ttooltip: abs_tooltip,\n\t\t\t\t\ttext: abs_text,\n\t\t\t\t\ticon: abs_type_icon\n\t\t\t\t});\n\t\t\t\t oRow.addAppointment(oAppointment);\n\t\t\t\t \n\t\t\t\t \n\t\t\t/*\t \t var oHeaders1 = new sap.ui.unified.CalendarAppointment({\n\t\t\t\t\tstartDate: abs_date_start,\n\t\t\t\t//\t nowP.setDate(nowP.getDate()-365);\n\t\t\t\t//\tendDate: oFormatYYyyymmdd.parse(res),\n\t\t\t\t\tendDate: abs_date_end,\n\t\t\t\t\ttype: abs_type_type,\n\t\t\t\t\ttitle: abs_type_title,\n\t\t\t\t\ttooltip: abs_tooltip,\n\t\t\t\t\ttext: abs_text,\n\t\t\t\t\ticon: abs_type_icon\n\t\t\t\t\n\t\t\t\t});\n\t\t\t\t oRow.addIntervalHeader(oHeaders1);\n\t\t\t\t */\n\t\t\t\t \n\t\n\t\t\t\t\t\t\t/*\t\t\toCal1.addSpecialDate(new DateTypeRange({\n\t\t\t\t\t\t\t\t\t\t\tstartDate: oFormatYYyyymmdd.parse(res),\n\t\t\t\t\t\t\t\t\t\t\ttype: \"Type01\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Permesso Id: \" + formatter.formatRequestId(oData.results[i].ZrequestId) + \" Stato: \" + oData.results[i].ZreqStatus \n\t                                           \n\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t*/\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t//jQuery.sap.require(\"sap.m.MessageBox\");\n\t\t\t\t\t\tsap.m.MessageBox.show(\n\t\t\t\t\t\t\t\"Error: Nessun record recuperato\", {\n\t\t\t\t\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\n\t\t\t\t\t\t\t\ttitle: \"Error\",\n\t\t\t\t\t\t\t\tactions: [sap.m.MessageBox.Action.CLOSE]\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t} // END FUNCTION SUCCESS\n\n\t\t\t\tfunction fnReadE(oError) {\n\t\t\t\t//\tconsole.log(oError);\n\n\t\t\t\t\talert(\"Error in read: \" + oError.message);\n\t\t\t\t}\n\n\t\t\t\n\t      /*   var oRow = new sap.m.PlanningCalendarRow({\n\t\t\t\ticon: \"sap-icon://employee\",\n\t\t\t\ttitle: \"Sandro Elmo\"\n\t\t\t});\n\t\t\toCal1.addRow(oRow);\n\t                     \n\t                     \n\t                     var oAppointment = new sap.ui.unified.CalendarAppointment({\n\t\t\t\t\tstartDate: new Date(\"2018\", \"5\", \"01\", \"00\", \"00\"),\n\t\t\t\t\tendDate: new Date(\"2018\", \"5\", \"01\", \"24\", \"00\"),\n\t\t\t\t\ttype: sap.ui.unified.CalendarDayType.Type08,\n\t\t\t\t\ttitle: \"F\",\n\t\t\t\t\ttooltip: \"Test\",\n\t\t\t//\t\ttext: \"Test\",\n\t\t\t\t\ticon: \"sap-icon://sap-ui5\"\n\t\t\t\t});\n\t\t\t\t oRow.addAppointment(oAppointment);\n\t\t\t\t \n\t\t\t\t          var oAppointment2 = new sap.ui.unified.CalendarAppointment({\n\t\t\t\t\t\tstartDate: new Date(\"2018\", \"5\", \"02\", \"00\", \"00\"),\n\t\t\t\t\tendDate: new Date(\"2018\", \"5\", \"02\", \"24\", \"00\"),\n\t\t\t\t\ttype: sap.ui.unified.CalendarDayType.Type08,\n\t\t\t\t\ttitle: \"F\",\n\t\t\t\t\ttooltip: \"Test\",\n\t\t\t//\t\ttext: \"Test\",\n\t\t\t\t\ticon: \"sap-icon://sap-ui5\"\n\t\t\t\t});\n\t\t\t\t oRow.addAppointment(oAppointment2);\n\t\t\t\t \n\t\t\t\t          var oAppointment3 = new sap.ui.unified.CalendarAppointment({\n\t\t\t\t\t\tstartDate: new Date(\"2018\", \"5\", \"03\", \"00\", \"00\"),\n\t\t\t\t\tendDate: new Date(\"2018\", \"5\", \"03\", \"24\", \"00\"),\n\t\t\t\t\ttype: sap.ui.unified.CalendarDayType.Type08,\n\t\t\t\t\ttitle: \"F\",\n\t\t\t\t\ttooltip: \"Test\",\n\t\t\t\t//\ttext: \"Test\",\n\t\t\t\t\ticon: \"sap-icon://sap-ui5\"\n\t\t\t\t});\n\t\t\t\t oRow.addAppointment(oAppointment3);*/\n\t\t\t\t \n\t\t\t\t \n\t\t\t\t \n\t\t\t\t/* var oHeaders1 = new sap.ui.unified.CalendarAppointment({\n\t\t\t\t\tstartDate: new Date(\"2018\", \"5\", \"01\", \"00\", \"00\"),\n\t\t\t\t\tendDate: new Date(\"2018\", \"5\", \"01\", \"24\", \"00\"),\n\t\t\t\t\ttype: sap.ui.unified.CalendarDayType.Type05,\n\t\t\t\t\ttitle: \"New Appointment Sandro H\"\n\t\t\t\t\n\t\t\t\t});\n\t\t\t\t oRow.addIntervalHeader(oHeaders1);\n\t\t\t\t */\n\t\t\t\n\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\thandleViewChange: function (oEvent) {\n\t\t\t\t\tthis._onBindingChange();\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\thandleTeamsSelect: function(oEvent) {\n\t\t\t\tvar oTeams = oEvent.oSource;\n\t\t\t\tvar aTeamsKey = oTeams.getSelectedKey();\n\t\t\t\t\n\t\t\t\t\tthis._onBindingChange();\n\t\t\t\t\n\t\t\t},\n\t\t\t\n\n\t\t\thandleAppointmentSelect: function (oEvent) {\n\t\t\t\tvar oAppointment = oEvent.getParameter(\"appointment\");\n\t\t\t\tif (oAppointment) {\n\t\t\t\t\tMessageBox.show(oAppointment.getTitle() + \" \\nDettaglio ore: \" +\n\t\t\t\t\toAppointment.getText());\n\t\t\t\t} else {\n\t\t\t\t\tvar aAppointments = oEvent.getParameter(\"appointments\");\n\t\t\t\t\tvar sValue = aAppointments.length + \" eventi selezionati, scegliere un intervallo di date minore per visualizzare il dettaglio.\";\n\t\t\t\t\tMessageBox.show(sValue);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\thandleSelectionFinish: function(oEvent) {\n\t\t\t\tvar aSelectedKeys = oEvent.getSource().getSelectedKeys();\n\n\t\t\t\tthis.getView().byId(\"PC1\").setBuiltInViews(aSelectedKeys);\n\t\t\t}\n\n\t\t});\n\n\n\n\t});",
		"eone_zteam_calendar/view/App.view.xml": "<mvc:View \nxmlns:core=\"sap.ui.core\" \nxmlns:mvc=\"sap.ui.core.mvc\" \ncontrollerName=\"eone_zteam_calendar.controller.App\" \ndisplayBlock=\"true\" \nxmlns=\"sap.m\"\nxmlns:html=\"http://www.w3.org/1999/xhtml\">\n\t\n\t<App id=\"app\"/>\n\t\n</mvc:View>",
		"eone_zteam_calendar/view/NotFound.view.xml": "<mvc:View controllerName=\"eone_zteam_calendar.controller.NotFound\" \nxmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\">\n<MessagePage\n\t\ttitle=\"{i18n>NotFound}\"\n\t\ttext=\"{i18n>NotFound.text}\"\n\t\tdescription=\"{i18n>NotFound.description}\"\n\t\tshowNavButton=\"true\"\n\t\tnavButtonPress=\"onNavBack\"/>\n\n</mvc:View>",
		"eone_zteam_calendar/view/PopoverHelp.fragment.xml": "<core:FragmentDefinition xmlns=\"sap.m\" xmlns:l=\"sap.ui.layout\" xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns:html=\"http://www.w3.org/1999/xhtml\">\r\n\t<ResponsivePopover class=\"sapUiPopupWithPadding\" title=\"Help\" placement=\"Bottom\" verticalScrolling=\"true\" horizontalScrolling=\"false\">\r\n\t\t<content>\r\n\t\t\t<VBox class=\"sapUiSmallMargin\">\r\n\t\t\t\t<items></items>\r\n\t\t\t</VBox>\r\n\t\t</content>\r\n\t</ResponsivePopover>\r\n\r\n</core:FragmentDefinition>",
		"eone_zteam_calendar/view/Dialog.fragment.xml": "<core:FragmentDefinition\r\n   xmlns=\"sap.m\"\r\n   xmlns:l=\"sap.ui.layout\"\r\n   xmlns:core=\"sap.ui.core\"\r\n   \txmlns:html=\"http://www.w3.org/1999/xhtml\">\r\n\t<Dialog\r\n\tstate=\"Warning\"\r\n\ttitle=\"Confirm\">\r\n\t\t<content>\r\n\t\t\t<Label design=\"Bold\" text=\"Vuoi confermare l'azione?\"\r\n\t\t\ttextAlign=\"Center\"/>\r\n\t\t</content> \r\n\t\t<beginButton>\r\n\t\t\t<Button text=\"Yes\" press=\"actionTask\"/>\r\n\t\t</beginButton>\r\n\t\t<endButton>\r\n\t\t\t<Button text=\"Cancel\" press=\"closeDialog\"/>\r\n\t\t</endButton>\r\n\t</Dialog>\r\n</core:FragmentDefinition>",
		"eone_zteam_calendar/view/View1.view.xml": "<mvc:View\n\txmlns:html=\"http://www.w3.org/1999/xhtml\" \n\txmlns:sap.ui.core=\"sap.ui.core\" \n\txmlns:mvc=\"sap.ui.core.mvc\"\n    xmlns:sap.ui.unified=\"sap.ui.unified\" \n\txmlns=\"sap.m\"\n\txmlns:sap.ui.layout.form=\"sap.ui.layout.form\" \n\txmlns:sap.ui.layout=\"sap.ui.layout\" \n\tcontrollerName=\"eone_zteam_calendar.controller.View1\"\n\tdisplayBlock=\"true\">\n\n\t<Page title=\"Vsualizza calendario Team\" id=\"V1\" class=\"sapUiResponsiveContentPadding\">\t\n\t\n\t<headerContent>\n\n\t\t\n\t\t\t\t\t\t\t\n    </headerContent>\n \n\t<VBox class=\"sapUiSmallMargin\">\n\t\t\n\t\t\t<PlanningCalendar\n\t\t\tviewKey = \"Week\"\n\t\t\tid=\"PC1\"\n\t\t\tshowIntervalHeaders=\"true\"\n\t\t\tappointmentsVisualization=\"Filled\"\n\t\t\tappointmentSelect=\"handleAppointmentSelect\"\n\n\t\t\tshowEmptyIntervalHeaders=\"false\"\n\t\t\tshowRowHeaders=\"true\"\n\t\t\tgroupAppointmentsMode = \"Expanded\"\n\n\t\t    >\n\t\t\t\t<!--\t\tviewChange = \"handleViewChange\"-->\t\n\t\t\t<toolbarContent>\n\t\t\t\t<Title text=\"Seleziona Team\" titleStyle=\"H5\"/>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<Select id=\"SLCT_TEAMS\" forceSelection=\"false\" change=\"handleTeamsSelect\" items=\"{ path: '/TeamsSet' }\">\n\t\t\t\t<sap.ui.core:Item key=\"{NomeArea}\" text=\"{DescrArea}\"/>\n\t\t\t\t</Select>\n\t\t\t</toolbarContent>\n\t\t\t\n\t\t\t\n\t\t\n\n\t\t</PlanningCalendar>\n\n\t<!--\t<PlanningCalendar\n\t\t\tid=\"PC1\"\n\t\t\tstartDate=\"{path: '/startDate'}\"\n\t\t\trows=\"{path: '/people'}\"\n\t\t\tappointmentsVisualization=\"Filled\"\n\t\t\tappointmentSelect=\"handleAppointmentSelect\"\n\t\t\tshowEmptyIntervalHeaders=\"false\"\n\t\t>\n\t\t\t<toolbarContent>\n\t\t\t\t<Title text=\"Title\" titleStyle=\"H4\"/>\n\t\t\t</toolbarContent>\n\t\t\t<rows>\n\t\t\t\t<PlanningCalendarRow\n\t\t\t\t\ticon=\"{pic}\"\n\t\t\t\t\ttitle=\"{name}\"\n\t\t\t\t\ttext=\"{role}\"\n\t\t\t\t\tappointments=\"{path : 'appointments', templateShareable: 'true'}\"\n\t\t\t\t\tintervalHeaders=\"{path: 'headers', templateShareable: 'true'}\">\n\t\t\t\t\t<appointments>\n\t\t\t\t\t\t<unified:CalendarAppointment\n\t\t\t\t\t\t\tstartDate=\"{start}\"\n\t\t\t\t\t\t\tendDate=\"{end}\"\n\t\t\t\t\t\t\ticon=\"{pic}\"\n\t\t\t\t\t\t\ttitle=\"{title}\"\n\t\t\t\t\t\t\ttext=\"{info}\"\n\t\t\t\t\t\t\ttype=\"{type}\"\n\t\t\t\t\t\t\ttentative=\"{tentative}\">\n\t\t\t\t\t\t</unified:CalendarAppointment>\n\t\t\t\t\t</appointments>\n\t\t\t\t\t<intervalHeaders>\n\t\t\t\t\t\t<unified:CalendarAppointment\n\t\t\t\t\t\t\tstartDate=\"{start}\"\n\t\t\t\t\t\t\tendDate=\"{end}\"\n\t\t\t\t\t\t\ticon=\"{pic}\"\n\t\t\t\t\t\t\ttitle=\"{title}\"\n\t\t\t\t\t\t\ttype=\"{type}\">\n\t\t\t\t\t\t</unified:CalendarAppointment>\n\t\t\t\t\t</intervalHeaders>\n\t\t\t\t</PlanningCalendarRow>\n\t\t\t</rows>\n\t\t</PlanningCalendar>-->\n\t<!--\t\t<Label text=\"Add available built-in views to the example:\"/>\n\t\t<MultiComboBox\n\t\t\t\tselectionFinish=\"handleSelectionFinish\"\n\t\t\t\twidth=\"230px\"\n\t\t\t\tplaceholder=\"Choose built-in views\">\n\t\t\t<items>\n\t\t\t\t<core:Item key=\"Hour\" text=\"Hour\" />\n\t\t\t\t<core:Item key=\"Day\" text=\"Day\" />\n\t\t\t\t<core:Item key=\"Month\" text=\"Month\" />\n\t\t\t\t<core:Item key=\"Week\" text=\"1 week\" />\n\t\t\t\t<core:Item key=\"One Month\" text=\"1 month\" />\n\t\t\t</items>\n\t\t</MultiComboBox>-->\n\t</VBox>\n\t\t</Page>\n</mvc:View>",
		"eone_zteam_calendar/model/models.js": "sap.ui.define([\n\t\"sap/ui/model/json/JSONModel\",\n\t\"sap/ui/Device\"\n], function(JSONModel, Device) {\n\t\"use strict\";\n\n\treturn {\n\n\t\tcreateDeviceModel: function() {\n\t\t\tvar oModel = new JSONModel(Device);\n\t\t\toModel.setDefaultBindingMode(\"TwoWay\");\n\t\t\treturn oModel;\n\t\t},\n\n\t\t\tcreateFLPModel : function () {\n\t\t\t\tvar fnGetuser = jQuery.sap.getObject(\"sap.ushell.Container.getUser\"),\n\t\t\t\t\tbIsShareInJamActive = fnGetuser ? fnGetuser().isJamActive() : false,\n\t\t\t\t\toModel = new JSONModel({\n\t\t\t\t\t\tisShareInJamActive: bIsShareInJamActive\n\t\t\t\t\t});\n\t\t\t\toModel.setDefaultBindingMode(\"TwoWay\");\n\t\t\t\treturn oModel;\n\t\t\t}\n\n\t};\n});",
		"eone_zteam_calendar/model/formatter.js": "sap.ui.define([\n\t], function () {\n\t\t\"use strict\";\n\n\n\t\treturn {\n\n\t\t\t/**\n\t\t\t * Rounds the currency value to 2 digits\n\t\t\t *\n\t\t\t * @public\n\t\t\t * @param {string} sValue value to be formatted\n\t\t\t * @returns {string} formatted currency value with 2 digits\n\t\t\t */\n\t\t\tcurrencyValue : function (sValue) {\n\t\t\t\tif (!sValue) {\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\n\t\t\t\treturn parseFloat(sValue).toFixed(2);\n\t\t\t},\n\t\t\t\n\t\tformatReqStatus : function(sValue) {\n\t\t\t\n\t\tswitch (sValue){\n\t\t\tcase \"I\":\n\t\t\t    return \"Warning\";\n\t\t\t\tbreak;\n\t\t\tcase \"A\":\t\n\t\t\t\t\treturn \"Success\";\n\t\t\t\tbreak;\n\t\t\tcase \"R\":\t\n\t\t\t\treturn \"Error\";\n\t\t\t\t\n\t\t}\n\t\t\t\n\t\t},\t\n\t\t\n\t\t formatStatus: function(sStatus){\n \t\n \tswitch (sStatus){\n \t\tcase \"I\":\n \t\t\treturn \"Inviata\";\n \t\t\tbreak;\n \t    case \"A\":\n \t    \treturn \"Approvata\";\n \t    \tbreak;\n \t   case \"R\":\n \t        return \"Rifiutata\";\n \t    \t\n \t}\n \t\n \t\n },\n \n \tformatIconStatus : function(sValue) {\n\t\t\t\n\t\tswitch (sValue){\n\t\t\tcase \"I\":\n\t\t\t    return \"sap-icon://pending\";\n\t\t\t\tbreak;\n\t\t\tcase \"A\":\t\n\t\t\t\t\treturn \"sap-icon://accept\";\n\t\t\t\tbreak;\n\t\t\tcase \"R\":\t\n\t\t\t\treturn \"sap-icon://decline\";\n\t\t\t\t\n\t\t}\n\t\t\t\n\t\t},\t\n\n\n\tformatTime\t: function(oTime) { \n\t\tif(oTime){\n\t\t\n\t       var oTimeFormat = sap.ui.core.format.DateFormat.getTimeInstance({pattern: \"HH:mm:ss\"});\n\t\t\tvar TZOffsetMs = new Date(0).getTimezoneOffset() * 60 * 1000;                             \n\t\t\tvar timeStr = oTimeFormat.format(new Date(oTime.ms + TZOffsetMs));       \n\t\t\t\n    \n\t\t\t\tif (timeStr === \"00:00:00\") \n\t\t\t\t\t{\n\t\t\t\t\t\ttimeStr = \"\";\n\t\t\t\t\t}\n\t\t\treturn timeStr; \n\t\t\t\n\t\t}\n\t\t\telse {\n\t\t\t\treturn oTime;\n\t\t\t}\n},\n\n\n\n\tformatDate: function(sDate){\n\t\tvar sYear,\n\t\t    sMonth,\n\t\t    sDay;\n\t\t    \n\t\tif(sDate){\n\t\tif(sDate.indexOf(\"-\") == -1){\n\t\tsYear = sDate.substring(0,4);\n\t    sMonth = sDate.substring(4,6);\n\t\tsDay = sDate.substring(6,8);\n\t\t}else{\n\t\tsYear = sDate.substring(0,4);\n\t\tsMonth = sDate.substring(5,7);\n\t    sDay = sDate.substring(8,10);\n\t\t}\n\t\t\t\n\t\t}\n  // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n  var oDate= new Date(sYear, sMonth - 1, sDay); \n oDate.setDate(oDate.getDate() + 1);\n\t\t\tif(oDate){\n\t\t\t\tvar oDateFormat = sap.ui.core.format.DateFormat.getDateInstance();\n\t\t\t\treturn oDateFormat.format(oDate, 1);\n\t\t\t}else{\n\t\t\t\treturn oDate;\n\t\t\t}\n\t\t},\n\t\t\n\t\t\n formatAbsence: function(sAbtType){\n \t\n \tswitch (sAbtType){\n \t\tcase \"0001\":\n \t\t\treturn \"Permesso\";\n \t\t\tbreak;\n \t    case \"0002\":\n \t    \treturn \"Ferie\";\n \t    \tbreak;\n \t   case \"0003\":\n \t        return \"Recupero\";\n \t        break;\n \t   case \"0004\":\n \t        return \"ROL\";     \n \t    \t\n \t}\n \t\n \t\n },\n \n  formatRequestId: function(sRequestId){\n \n    sRequestId = +sRequestId;\t\n //\tparseInt(sRequestId, 10);\n \t\n \t\treturn sRequestId;\n }\n \n \n \n\t\t\n\t\t};\n\n\t}\n);"
	}
});